---
import "./artTile.styles.css";

import gardenStakes from "../../assets/art/garden-stakes.jpg";

import girlsOnBench from "../../assets/art/girlsonbench.jpg";
import inkwashman from "../../assets/art/inkwashman.jpg";

import girlCat from "../../assets/art/girl-with-cat.jpeg";
import shellEarings from "../../assets/art/shellEarings.jpeg";
import buckthorn from "../../assets/art/buckthorn.jpeg";
import leafEarrings from "../../assets/art/leaves.jpeg";
import leafEarrings2 from "../../assets/art/leafEarrings.png";
import inProgress from "../../assets/art/inProgress.jpeg";
import museum from "../../assets/art/museum.png";
import wisconsinBreakfast from "../../assets/art/wisconsinBreakfast.png";
import cookieCutters from "../../assets/art/cookieCutters.png";
import birdFeeders from "../../assets/art/bird-feeder.png";

const artPieces = [
  {
    src: girlCat,
    title: "Girl with Cat pastel on paper",
    description: "$500 20x26 inches ",
  },
  {
    src: museum,
    title: "At the Museum pastel on paper",
    description: "(In progress) 20x26 inches ",
  },
  {
    src: leafEarrings2,
    title: "Birch Leaf Earrings",
    description: "$50 fired terracotta with glass beads",
  },
  {
    src: cookieCutters,
    title: "Cookie Presses",
    description: "$40-$80 each fired terracotta",
  },
  {
    src: wisconsinBreakfast,
    title: "Wisconsin Breakfast pastel on paper",
    description: "$500 framed 22x28 inches",
  },
  {
    src: leafEarrings,
    title: "Cedar Leaf Earrings",
    description: "$50 fired terracotta with glass beads",
  },
  {
    src: shellEarings,
    title: "Wild Rose Earrings",
    description: "$50 fired terracotta and cotton with glass beads",
  },
  {
    src: inProgress,
    title: "In Progress",
    description: "plaster gesso wood leaf and oil paint"  },
  {
    src: buckthorn,
    title: "Buckthorn Earrings",
    description: "$40 handsewn cotton with glass beads",
  },

  {
    src: gardenStakes,
    title: "Garden Stakes",
    description: "$40 each fired terracotta approx 2.5x5 inches",
  },

  {
    src: girlsOnBench,
    title: "Enjoying Lolliypops (Study)",
    description: "$50 pastel on paper 9x12 inches",
  },
  {
    src: birdFeeders,
    title: "Oriole Feeders",
    description: "$80 hand built solid cedar with unique oil paintings of birds, flowers, and leaves.",
  },
];
---

<div class="ArtTileContainer">
  <div class="artGrid">
    {
      artPieces.map((piece, index) => (
        <div class="artCard" data-index={index}>
          <img
            src={piece.src.src}
            alt={piece.title}
            class="artImage"
            width={piece.src.width}
            height={piece.src.height}
            loading="lazy"
            decoding="async"
          />
          <h3 class="artTitle">{piece.title}</h3>
          <p class="artDescription">{piece.description}</p>
        </div>
      ))
    }
  </div>
</div>

<!-- Modal -->
<div class="modal" id="artModal">
  <div class="modalContent">
    <button class="closeBtn" id="closeBtn">&times;</button>
    <img src="" alt="" class="modalImage" id="modalImage" />
    <h2 class="modalTitle" id="modalTitle"></h2>
    <p class="modalDescription" id="modalDescription"></p>
  </div>
</div>

<script>
  const modal = document.getElementById("artModal");
  const modalImage = document.getElementById("modalImage");
  const modalTitle = document.getElementById("modalTitle");
  const modalDescription = document.getElementById("modalDescription");
  const closeBtn = document.getElementById("closeBtn");
  const artCards = document.querySelectorAll(".artCard");

  artCards.forEach((card) => {
    card.addEventListener("click", () => {
      const imgElement = card.querySelector(".artImage") as HTMLImageElement;
      const titleElement = card.querySelector(".artTitle");
      const descElement = card.querySelector(".artDescription");

      if (imgElement && modalImage) {
        (modalImage as HTMLImageElement).src = imgElement.src;
        (modalImage as HTMLImageElement).alt = titleElement?.textContent || "";
      }
      if (modalTitle) modalTitle.textContent = titleElement?.textContent || "";
      if (modalDescription) modalDescription.textContent = descElement?.textContent || "";

      if (modal) modal.classList.add("active");
    });
  });

  if (closeBtn) {
    closeBtn.addEventListener("click", () => {
      if (modal) modal.classList.remove("active");
    });
  }

  if (modal) {
    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        modal.classList.remove("active");
      }
    });
  }
</script>
